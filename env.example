# =============================================================================
# RAG SYSTEM - Docker Compose Environment Configuration
# Copy this file to .env and fill in your actual values
# =============================================================================

# =============================================================================
# QDRANT - Vector Database Configuration
# Vector storage for embeddings and semantic search
# =============================================================================
# Enable recovery mode to allow recovery from corrupted snapshots
QDRANT_ALLOW_RECOVERY_MODE=true
# HTTP port for Qdrant REST API (external port)
QDRANT_PORT_HTTP=6333
# gRPC port for Qdrant high-performance API (external port)
QDRANT_PORT_GRPC=6334

# =============================================================================
# POSTGRESQL - Relational Database Configuration
# Primary database for application data and n8n workflows
# =============================================================================
# PostgreSQL external port (mapped from container port 5432)
POSTGRES_PORT=5432
# PostgreSQL superuser credentials (for initial database setup) - CHANGE THESE FOR PRODUCTION
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_postgres_admin_password
POSTGRES_DB=postgres

# RAG application database settings
RAG_DB_NAME=rag_db
RAG_DB_USER=rag_user
RAG_DB_PASSWORD=your_rag_db_password
RAG_DB_SCHEMA=rag_schema

# =============================================================================
# REDIS - Cache & Session Store Configuration
# In-memory data store for caching and session management
# =============================================================================
# Redis external port (mapped from container port 6379)
REDIS_PORT=6379
# Redis authentication password - CHANGE THIS FOR PRODUCTION
REDIS_PASSWORD=your_redis_password

# =============================================================================
# N8N - Workflow Automation Configuration
# Workflow automation and integration platform
# =============================================================================
# n8n external port (mapped from container port 5678)
N8N_PORT=5678
# Basic authentication credentials for n8n web interface - CHANGE THESE FOR PRODUCTION
N8N_BASIC_AUTH_USER=your_n8n_admin_user
N8N_BASIC_AUTH_PASSWORD=your_n8n_admin_password
# Internal n8n hostname and protocol
N8N_HOST=localhost
N8N_PROTOCOL=http
# Webhook URL for external services to communicate with n8n
N8N_WEBHOOK_URL=http://localhost:5678/
# Timezone for cron jobs and scheduled workflows
GENERIC_TIMEZONE=Europe/Rome
# PostgreSQL connection settings for n8n database
DB_POSTGRESDB_HOST=postgresdb
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=n8n_db
DB_POSTGRESDB_SCHEMA=n8n_schema
DB_POSTGRESDB_USER=your_n8n_db_user
DB_POSTGRESDB_PASSWORD=your_n8n_db_password

# =============================================================================
# EMBEDDINGS SERVICE - Sentence Transformers Configuration
# Machine learning service for generating text embeddings
# =============================================================================
# Embeddings service external port (mapped from container port 8000)
EMBEDDINGS_PORT=8000

# =============================================================================
# BACKEND - NestJS Application Configuration
# Main backend API server
# =============================================================================
# Backend external port (mapped from container port 3000)
BACKEND_PORT=3000
# Node.js environment mode (development | production)
NODE_ENV=production

# =============================================================================
# FRONTEND - Nginx Configuration
# Web server for static frontend assets
# =============================================================================
# Frontend external port (mapped from container port 80)
FRONTEND_PORT=4200
